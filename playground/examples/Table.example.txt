class TableExample extends React.Component{

    constructor(props){
        super(props);

        this.logIt = this.logIt.bind(this);
        this.onClick = this.onClick.bind(this);

        this.state = {
            data: [
                {
                    actions: [<SmallIconButton key={0} transparent icon="face"/>, <SmallIconButton key={1} transparent icon="check"/>],
                    campaign: 'Newsletters for everybody',
                    click: '50 %',
                    delivered: '13-06-2017 10:59 AM',
                    mailingList: 'Mailing list for me',
                    open: '75 %',
                    status: 'Sent',
                    subscribers: 2947,
                },
                {
                    actions: <SmallIconButton transparent icon="check"/>,
                    campaign: 'Another campaign',
                    click: '25 %',
                    delivered: '17-02-2017 10:51 AM',
                    mailingList: 'Mailing list for me',
                    open: '60 %',
                    status: 'Sent',
                    subscribers: 1628,
                },
                {
                    actions: <SmallIconButton transparent icon="edit"/>,
                    campaign: 'Airship ready campaign',
                    click: '80 %',
                    delivered: '31-12-2016 04:39 PM',
                    mailingList: 'Mailing list for me',
                    open: '93 %',
                    status: 'Draft',
                    subscribers: 4244,
                },
                {
                    actions: <SmallIconButton transparent icon="close"/>,
                    campaign: 'Some campaign name',
                    click: '20 %',
                    delivered: '12-05-2015 04:39 PM',
                    mailingList: 'Another Mailing list',
                    open: '45 %',
                    status: 'Sent',
                    subscribers: 8503,
                },
                {
                    actions: <SmallIconButton transparent icon="edit"/>,
                    campaign: 'Pascal cards are here',
                    click: '95 %',
                    delivered: '30-05-2017 04:39 PM',
                    mailingList: 'Gamer Mailing list',
                    open: '99 %',
                    status: 'Sent',
                    subscribers: 56321,
                },
                {
                    actions: <SmallIconButton transparent icon="check"/>,
                    campaign: 'Random Campaign',
                    click: '50 %',
                    delivered: '11-02-2014 04:39 PM',
                    mailingList: 'Another Mailing list',
                    open: '55 %',
                    status: 'Draft',
                    subscribers: 1234,
                }
            ]
        };
    }

    render(){

        const spanStyle = {
            background: 'yellow',
            width: '8px',
            height: '8px',
            borderRadius: '50%',
            marginRight: '10px'
        };

        const paginationProps = {
            lastBtn: false,
            firstBtn: false,
            style: {color: 'blue'}
        }

        return(
            <div>
                <button onClick={this.onClick}>Click</button>
                <Table data={this.state.data} paginate={3} smallCollapse>
                    <TableHeader dataField="delivered" sortable >Delivered</TableHeader>
                    <TableHeader dataField="campaign" sortable>Campaigns</TableHeader>
                    <TableHeader dataField="mailingList" hideSmall >
                        <span style={{display: 'flex', flexDirection: 'row', alignItems: 'center', justifyContent: 'center'}}>
                            <div style={spanStyle}/>
                            Mailing list / segment
                        </span>
                    </TableHeader>
                    <TableHeader dataField="status" sortable hideSmall >Status</TableHeader>
                    <TableHeader dataField="open" sortable sortfn={this.logIt} hideSmall>Open %</TableHeader>
                    <TableHeader dataField="click" sortable hideSmall>Click</TableHeader>
                    <TableHeader dataField="subscribers" sortable hideSmall >Subscribers</TableHeader>
                    <TableHeader colStyles={{flexDirection: 'row'}} dataField="actions" hideSmall >Actions</TableHeader>
                </Table>
                <br/>
                <Table data={this.state.data} paginate={3} alternate smallCollapse>
                    <TableHeader dataField="delivered" hideSmall sortable >Delivered</TableHeader>
                    <TableHeader dataField="campaign" sortable>Campaigns</TableHeader>
                    <TableHeader dataField="mailingList" hideSmall >
                        <span style={{display: 'flex', flexDirection: 'row', alignItems: 'center', justifyContent: 'center'}}>
                            <div style={spanStyle}/>
                            Mailing list / segment
                        </span>
                    </TableHeader>
                    <TableHeader dataField="status" sortable hideSmall >Status</TableHeader>
                    <TableHeader dataField="open" sortable sortfn={this.logIt} hideSmall>Open %</TableHeader>
                    <TableHeader dataField="click" sortable hideSmall>Click</TableHeader>
                    <TableHeader dataField="subscribers" sortable hideSmall >Subscribers</TableHeader>
                    <TableHeader colStyles={{flexDirection: 'row'}} dataField="actions" >Actions</TableHeader>
                </Table>
            </div>
        );
    }

    onClick() {
        this.setState({data: this.state.data.splice(2, 4)});
    }

    logIt(a, b, order, sortBy) {

        let comparison = 0;

        if (order === 'desc'){

            console.log('desc called');

            if (a[sortBy] > b[sortBy]){
                comparison = -1;
            } else if (a[sortBy] < b[sortBy]){
                comparison = 1;
            }
            return comparison;
        } else if (order === 'asc') {

            console.log('asc called');

            if (a[sortBy] < b[sortBy]){
                comparison = -1;
            } else if (a[sortBy] > b[sortBy]){
                comparison = 1;
            }
            return comparison;
        }

    }
}
