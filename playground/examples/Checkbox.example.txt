class CheckBoxExample extends React.Component {

    constructor(){
        super();

        this.onChange = this.onChange.bind(this);
        this.onClick = this.onClick.bind(this);
        this.onCheckChange = this.onCheckChange.bind(this);
        this.validate = this.validate.bind(this);

        this.state = {
            checked: false,
            status: 'error',
            message: '',
            value: [
                {
                    checked: true,
                    value: 'Checkbox1',
                    label:'Checkbox1'
                },
                {
                    checked: false,
                    value: 'Checkbox2',
                    label: 'Checkbox2'
                },
                {
                    checked: false,
                    value: 'Checkbox3',
                    label: 'Checkbox3'
                }
            ]
        };
    }

    render() {
        return (
            <div>
                <CheckboxGroup
                    onChange={this.onCheckChange}
                    title="Vertical checkboxes"
                    dataLabel="horizontal"
                    validate={this.validate}
                    status={this.state.status}
                    description={this.state.message}
                    selectedChecks={this.state.value}
                >
                    <Checkbox value={'Checkbox1'} label="Checkbox1"/>
                    <Checkbox value={'Checkbox2'} label="Checkbox2"/>
                    <Checkbox value={'Checkbox3'} label="Checkbox3"/>
                </CheckboxGroup>
                <CheckboxGroup
                    onChange={this.onChange}
                    title="Horizontal checkboxes"
                    dataLabel="horizontal"
                    spacing={15}
                    horizontal
                >
                    <Checkbox value={'Checkbox1'}/>
                    <Checkbox value={'Checkbox2'} label="This one has a label" checked/>
                    <Checkbox value={'Checkbox3'} label="This one is disabled" disabled description="It's disabled"/>
                </CheckboxGroup>
                <br/>
                <Checkbox value="doni" label="Lone Checkbox" onClick={this.onClick} checked={this.state.checked}/>
            </div>
        );

    }

    onChange(e, data) {
        console.log(data.value);
    }

    onCheckChange(e, data) {
        this.setState({value: data.value});
    }

    validate(value) {
        let checked = 0;
        value.forEach((check) => {
            if (check.checked){
                checked = checked + 1;
            }
        });
        if (checked >= 2){
            this.setState({status: 'success', message: ''});
        } else {
            this.setState({status: 'error', message: 'At least 2 checkboxes need to be checked'});
        }
    }

    onClick(e, data) {
        this.setState({checked: !this.state.checked});
        console.log(data.value);
    }
}
